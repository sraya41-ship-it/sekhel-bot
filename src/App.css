:root{
  --bg1:#eef2ff;
  --bg2:#f5f3ff;
  --card: rgba(255,255,255,0.8);
  --border: rgba(0,0,0,0.08);
  --shadow: 0 10px 30px rgba(0,0,0,0.10);
  --txt:#0f172a;
  --muted:#475569;
  --brand:#4f46e5;
  --brand-2:#6366f1;
  --chip:#eef2ff;
  --chip-border:#c7d2fe;
  --surface:#ffffff;
}
body[data-theme="dark"]{
  --bg1:#0b1220;
  --bg2:#101826;
  --card: rgba(17,24,39,0.7);
  --border: rgba(255,255,255,0.08);
  --shadow: 0 10px 30px rgba(0,0,0,0.35);
  --txt:#e5e7eb;
  --muted:#94a3b8;
  --brand:#7c3aed;
  --brand-2:#8b5cf6;
  --chip:#1f2937;
  --chip-border:#374151;
  --surface:#111827;
}
*{box-sizing:border-box}
html,body,#root{height:100%}
body{background: linear-gradient(135deg, var(--bg1), var(--bg2)); color:var(--txt)}
.app{ min-height:100%; display:flex; align-items:center; justify-content:center; padding:24px; }
.shell{ width:100%; max-width:980px; display:grid; grid-template-rows:auto 1fr auto auto; gap:16px; }
.card{ background: var(--card); backdrop-filter: blur(8px); border:1px solid var(--border); border-radius:24px; box-shadow: var(--shadow); }
.header{ padding:18px 20px; display:flex; align-items:center; gap:12px; justify-content:space-between; }
.brand{ display:flex; align-items:center; gap:12px; }
.logo{ width:44px; height:44px; border-radius:14px; display:grid; place-items:center; background: linear-gradient(135deg, var(--brand), var(--brand-2)); color:white; font-weight:800; box-shadow: 0 6px 18px rgba(79,70,229,.35); }
.header h1{ margin:0; font-size:20px; }
.header p{ margin:0; color:var(--muted); font-size:14px; }
.toggles{ display:flex; gap:10px; align-items:center; }
.smallbtn{ background:var(--surface); color:var(--txt); border:1px solid var(--border); padding:8px 10px; border-radius:10px; cursor:pointer; }
.chat{ display:flex; flex-direction:column; gap:10px; padding:14px; height:52vh; overflow:auto; scroll-behavior:smooth; }
.bubble{ max-width:78%; padding:12px 14px; border-radius:18px; border:1px solid var(--border); box-shadow: 0 2px 8px rgba(0,0,0,.05); line-height:1.45; background:var(--surface); }
.bot{ align-self:flex-start; }
.user{ align-self:flex-end; background:#1f2937; color:#fff; border-color:#00000022; }
body[data-theme="dark"] .user{ background:#374151; }
.row{ display:flex; align-items:flex-end; gap:8px; }
.avatar{ width:32px; height:32px; border-radius:50%; display:grid; place-items:center; font-size:14px; font-weight:700; background:var(--chip); color:#3730a3; border:1px solid var(--chip-border); }
.avatar-user{ background:#fee2e2; color:#991b1b; border:1px solid rgba(220,38,38,.25); }
body[data-theme="dark"] .avatar{ background:#111827; color:#c4b5fd; border-color:#312e81; }
body[data-theme="dark"] .avatar-user{ background:#4b5563; color:#fca5a5; border-color:#6b7280; }
.typing{ display:flex; gap:6px; align-items:center; }
.dot{ width:6px; height:6px; border-radius:50%; background:#94a3b8; opacity:.7; animation: blink 1.1s infinite ease-in-out; }
.dot:nth-child(2){ animation-delay:.2s}
.dot:nth-child(3){ animation-delay:.4s}
@keyframes blink{ 0%,80%,100%{opacity:.25} 40%{opacity:1} }
.quick{ display:flex; flex-wrap:wrap; gap:8px; padding:10px; }
.chip{ background:var(--chip); border:1px solid var(--chip-border); color:#3730a3; padding:6px 10px; border-radius:999px; font-size:13px; cursor:pointer; }
body[data-theme="dark"] .chip{ color:#c4b5fd; }
.toolbar{ display:flex; flex-wrap:wrap; gap:8px; padding:10px; align-items:center; justify-content:space-between; }
.actions{ display:flex; gap:8px; flex-wrap:wrap; }
.btn{ background: linear-gradient(135deg, var(--brand), var(--brand-2)); color:white; border:none; padding:12px 16px; border-radius:12px; font-weight:700; cursor:pointer; box-shadow: 0 6px 16px rgba(79,70,229,.35); }
.btn.ghost{ background:var(--surface); color:var(--txt); border:1px solid var(--border); box-shadow:none; }
.btn.warn{ background:#111827; color:white; }
body[data-theme="dark"] .btn.warn{ background:#0b1220; }
.input{ display:flex; gap:10px; padding:10px; align-items:center; }
.textbox{ flex:1; border:1px solid var(--border); background:var(--surface); color:var(--txt); border-radius:14px; padding:12px 14px; outline:none; font-size:15px; }
.send{ background: linear-gradient(135deg, var(--brand), var(--brand-2)); color:white; border:none; padding:12px 18px; border-radius:12px; font-weight:700; cursor:pointer; box-shadow: 0 6px 16px rgba(79,70,229,.35); }
.meta{ padding:8px 14px; color:var(--muted); font-size:12px; }
.sep{ border:none; height:1px; background:var(--border); margin:0 14px; }
.tags{ display:flex; gap:8px; flex-wrap:wrap; padding:10px; }
.tag{ font-size:12px; padding:4px 8px; border:1px solid var(--border); border-radius:999px; background:var(--surface); }
